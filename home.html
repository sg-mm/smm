<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Social Growth ‚Ä¢ Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:-apple-system,BlinkMacSystemFont,system-ui;
}

html,body{
height:100%;
overflow:hidden; /* FULLY FIXED */
}

body{
display:flex;
flex-direction:column;
background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#00f2ff);
background-size:400% 400%;
animation:gradientMove 12s ease infinite;
color:#fff;
position:relative;
}

@keyframes gradientMove{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

/* HEADER */
.topbar{
height:110px;
flex-shrink:0;
display:flex;
align-items:center;
justify-content:center;
position:relative;
background:rgba(0,0,0,.4);
backdrop-filter:blur(25px);
}

.brand{
font-size:34px;
font-weight:900;
background:linear-gradient(90deg,#00eaff,#00ff88,#00eaff);
background-size:200%;
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:shine 4s linear infinite;
text-shadow:0 0 20px #00ffff;
}

@keyframes shine{
0%{background-position:0%}
100%{background-position:200%}
}

.settings{
position:absolute;
right:20px;
font-size:22px;
cursor:pointer;
}

/* CENTER AREA */
.main{
flex:1;
display:flex;
align-items:center;
justify-content:center;
padding:20px;
}

.card{
width:100%;
max-width:420px;
background:rgba(255,255,255,.08);
backdrop-filter:blur(35px);
border-radius:30px;
padding:30px;
box-shadow:0 30px 80px rgba(0,0,0,.6);
text-align:left;
}

.welcome{
font-size:22px;
font-weight:900;
}

.user{
margin-top:8px;
font-size:18px;
display:flex;
align-items:center;
gap:8px;
position:relative;
}

.verify{
width:18px;
height:18px;
cursor:pointer;
filter: drop-shadow(0 0 6px #00bfff)
        drop-shadow(0 0 12px #0099ff);
animation: tickPulse 2s ease-in-out infinite;
}

@keyframes tickPulse{
0%{filter: drop-shadow(0 0 6px #00bfff)}
50%{filter: drop-shadow(0 0 18px #00ccff)}
100%{filter: drop-shadow(0 0 6px #00bfff)}
}

/* BALANCE SMALLER */
.balance{
margin-top:25px;
font-size:42px;
font-weight:900;
background:linear-gradient(135deg,#00eaff,#00ff88);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
text-shadow:0 0 35px rgba(0,255,200,.8);
}

.balance.pulse{
animation:pulseGlow 1.2s ease;
}

@keyframes pulseGlow{
0%{text-shadow:0 0 10px #00ffff}
50%{text-shadow:0 0 60px #00ff88}
100%{text-shadow:0 0 35px rgba(0,255,200,.8)}
}

.btn{
margin-top:25px;
padding:14px;
width:100%;
border:none;
border-radius:30px;
font-weight:900;
background:linear-gradient(135deg,#00eaff,#00ff88);
color:#000;
cursor:pointer;
box-shadow:0 0 35px rgba(0,255,200,.7);
}

.total{
margin-top:30px;
text-align:center;
font-size:28px;
font-weight:900;
background:linear-gradient(90deg,#ff00cc,#00eaff,#00ff88);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}
</style>
</head>

<body>

<div class="topbar">
<div class="brand">Social Growth</div>
<div class="settings" onclick="location.href='settings.html'">‚öôÔ∏è</div>
</div>

<div class="main">
<div class="card">

<div class="welcome">Welcome üëã</div>

<div class="user">
<span id="username">Loading...</span>
<img src="tick.png" class="verify">
</div>

<div class="balance" id="balanceBox">
‚Çπ <span id="balance">0</span>
</div>

<button class="btn" onclick="location.href='addfund.html'">
Add Funds
</button>

<div class="total">
Total Orders = 9999+
</div>

</div>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbyC5kUtixbLyOjzXUAYJHdQ90_CDO1LFWj3dkPRSGj_wpLwdMRcMBqiPcUAUtMyDMNtNw/exec";
const userID=localStorage.getItem("userID");

if(!userID){window.location="index.html";}

fetch(API_URL,{
method:"POST",
body:JSON.stringify({action:"getUser",userID:userID})
})
.then(r=>r.json())
.then(d=>{
if(!d.ok){window.location="index.html";}
document.getElementById("username").innerText=d.username;
animateBalance(parseFloat(d.balance));
});

function animateBalance(target){
let el=document.getElementById("balance");
let box=document.getElementById("balanceBox");
let start=0;
let duration=1800;
let startTime=null;

function step(timestamp){
if(!startTime) startTime=timestamp;
let progress=timestamp-startTime;
let percent=Math.min(progress/duration,1);
let current=start+(target-start)*percent;
el.innerText=current.toFixed(2);
if(percent<1){
requestAnimationFrame(step);
}else{
box.classList.add("pulse");
}
}
requestAnimationFrame(step);
}
</script>

</body>
</html>
